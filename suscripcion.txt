Hola,

Aquí está el detalle sobre tus consultas y el plan para implementar las nuevas funcionalidades de suscripción.

### 1. Confirmación de Límites al Registrarse

**Sí, confirmado.** La lógica que implementé en el backend (`RegisterEmpresaSerializer`) ya toma el plan que eliges ('basico', 'profesional', etc.) y guarda en la base de datos los límites de usuarios y activos correspondientes a ese plan en el momento en que se crea la empresa. Los nuevos límites que definiste (15/100 para Básico, 40/350 para Profesional) se aplicarán para todas las nuevas empresas que se registren.

### 2. Notificaciones de Límite de Uso

Esta es una excelente idea y, de hecho, ya existe una funcionalidad muy similar en el código. Actualmente, el sistema crea una notificación de advertencia cuando el número de usuarios o activos supera el 90% del límite de tu plan.

**Lo que haré:** Voy a modificar el mensaje de esa notificación para que sea exactamente como lo sugeriste, incluyendo una llamada a la acción para mejorar el plan.

**Mensaje Actual:** `Estás cerca de tu límite de X. Uso actual: Y de Z.`
**Nuevo Mensaje:** `ESTIMADO USUARIO, ESTÁ LLEGANDO AL LÍMITE DE SUS ACTIVOS/USUARIOS SEGÚN SU PLAN. LO INVITAMOS A MEJORAR DE PLAN.`

### 3. Apartado para Ver y Gestionar la Suscripción

Esta es la parte más importante. Crear un portal donde el administrador pueda ver su plan actual y mejorarlo es fundamental.

**Mi Plan para Implementarlo:**

#### Parte A: Backend

1.  **Modificar el Mensaje de Notificación:** Actualizaré el mensaje en la clase `BaseTenantLimitViewSet` como mencioné en el punto anterior.
2.  **Crear Endpoint para Mejorar Plan:** Añadiré una nueva acción al `SuscripcionViewSet` que permita a un administrador cambiar de plan (ej. de 'basico' a 'profesional'). Esta acción se encargará de actualizar el plan y los límites (`max_usuarios`, `max_activos`) en la base de datos.
3.  **Asegurar Permisos:** Me aseguraré de que solo los usuarios con un rol de 'Admin' (o un permiso específico como `manage_suscripcion`) puedan acceder a esta nueva funcionalidad de mejora de plan.

#### Parte B: Frontend

1.  **Crear Nueva Página `SuscripcionPage.jsx`:** Crearé una nueva página dentro de la aplicación (en `src/pages/suscripcion/`) que será el portal de gestión del plan.
2.  **Diseñar la Interfaz:** Esta página mostrará:
    *   El nombre de tu plan actual (ej: "Profesional").
    *   Barras de progreso mostrando el uso actual vs. el límite (ej: "Usuarios: 18 / 40", "Activos: 150 / 350").
    *   Tarjetas con los otros planes disponibles, cada una con un botón de "Mejorar Plan".
3.  **Añadir Enlace en el Sidebar:** Agregaré un nuevo ítem en el menú lateral (sidebar) llamado "Mi Plan" o "Suscripción".
4.  **Controlar Visibilidad:** Este nuevo enlace en el menú solo será visible para los usuarios que tengan el permiso `view_suscripcion`, que por defecto se asignará al rol de 'Admin'. De esta forma, ni los jefes ni los empleados normales podrán verlo.

---

Estoy listo para empezar. Comenzaré con la **Parte A: Backend**, empezando por la modificación del mensaje de notificación.

Por favor, confírmame si estás de acuerdo con este plan.
